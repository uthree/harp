# 並列化処理
並列化は主にGPU向けの方法を採用する。CPU上でのOpenMPを使った最適化の場合は、カーネル呼び出し時にparallel for文を回す。
これはGPU向けコードをCPUで動かすラッパーとしての役割がある。
この機能はRenderer側で実装し、Rendererがデバイスの違いを吸収する。

## "Kernel" AstNodeの追加
Functionノードと同じ機能を持つが、立ち上げるスレッドやグループの数などの情報を持つ。
### 引数
通常の引数に加えて、lid(グループ内でのスレッド番号), gid(ループ番号) を持つ。
これらは unsigned int の3次元ベクトルだが、簡略化のため１つ目の成分しか使用しない。(x軸のみ)

## "CallKernel" AstNodeの追加
CallFunctionと同じ機能をもち、立ち上げるスレッドやグループの数などを指定する項目を追加。


## AstOptimizerのSuggesterの追加
### "Kernelize"
関数ノード(Function)をカーネル(Kernel)に変換する。初期状態でのスレッド数およびグループ数は1で固定。

### "Parallelize"
Kernel内の一番外側のforループをグループまたはスレッドで並列化する。結果的にfor文は消滅する。
既にグループとスレッドで並列化されている場合は無視。
メモリアクセスの境界をどのように考慮すべきかが課題。