[workspace]
members = [
    ".",
    "crates/core",
    "crates/backend-opencl",
    "crates/backend-metal",
    "crates/viz",
    "crates/dsl",
    "crates/cli",
    "crates/autograd",
]
resolver = "2"

[package]
name = "harp"
version = "0.1.0"
edition = "2024"

[dependencies]
harp-core = { path = "crates/core" }
harp-backend-opencl = { path = "crates/backend-opencl", optional = true }
harp-backend-metal = { path = "crates/backend-metal", optional = true }

[features]
default = []
opencl = ["harp-backend-opencl"]
metal = ["harp-backend-metal"]

[dev-dependencies]
env_logger = "0.11"
serial_test = "3.2"
rstest = "0.24"
